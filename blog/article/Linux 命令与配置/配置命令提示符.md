# 配置命令提示符

通过环境变量 PS1 配置命令提示符，以 Ubuntu 24.04 的默认值为例:  

```
\[\e]0;\u@\h: \w\a\]${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ 
```

它分为两个部分。  

第一部分用于设置终端的图标和标题，不会显示在命令提示符中。`\e]0;` 表示开始设置图标和标题，`\a` 表示结束:  

```
\[\e]0;\u@\h: \w\a\]
```  


第二部分为命令提示符:  

```
${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ 
```

## 转义字符

| 转义字符 | 说明                                 |
| :-:     | :-                                   |
| `\e`    | 等价于 `\033` 用于部分控制             |
| `\u`    | 当前用户名                            |
| `\h`    | 当前主机名                            |
| `\w`    | 当前路径                              |
| `\W`    | 当前目录名                            |
| `\t`    | 当前时间（24小时制）                   |
| `\T`    | 当前时间（12小时制）                   |
| `\$`    | 提示符，普通用户为 `$`，root 用户为 `#` |

`\[` 和 `\]` 用于告诉 `readline` 不要将中间的字符计入长度，这可以避免长度中计入控制字符导致显示错位。

## 字体颜色设置

字体颜色格式为 `\e[XX;XX;XXm` 或 `\033[XX;XX;XXm`，其中变量 `XX` 可以有任意个，通过分号隔开。

| 值    |  说明 |
| :-:   | :-   |
| 0     | 恢复默认  |
| 1     | 加粗      |
| 4     | 下划线    |
| 5     | 闪烁      |
| 7     | 高亮      |
| 30    | 黑色前景  |
| 31    | 红色前景  |
| 32    | 绿色前景  |
| 33    | 黄色前景  |
| 34    | 蓝色前景  |
| 35    | 紫色前景  |
| 36    | 青色前景  |
| 37    | 白色前景  |
| 40    | 黑色背景  |
| 41    | 红色背景  |
| 42    | 绿色背景  |
| 43    | 黄色背景  |
| 44    | 蓝色背景  |
| 45    | 紫色背景  |
| 46    | 青色背景  |
| 47    | 白色背景  |




